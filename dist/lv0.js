(()=>{var e={495:e=>{e.exports={getI18nString:function(e){return chrome&&chrome.i18n&&chrome.i18n.getMessage?chrome.i18n.getMessage(e):browser&&browser.i18n&&browser.i18n.getMessage?browser.i18n.getMessage(e):void console.error("Can't get i18n message: "+e)},setSyncStorage:function(e){chrome&&chrome.storage&&chrome.storage.sync&&chrome.storage.sync.set?chrome.storage.sync.set(e):browser&&browser.storage&&browser.storage.sync&&browser.storage.sync.set?browser.storage.sync.set(e):console.error("Can't set settings.")},getSyncStorage:function(e,r){let n;n="string"==typeof e?[e]:Array.isArray(e)?e:Object.keys(e);let s=e=>{for(const r of n)void 0===e[r]&&(e[r]=t[r]);return r(e)};chrome&&chrome.storage&&chrome.storage.sync&&chrome.storage.sync.get?chrome.storage.sync.get(e,s):browser&&browser.storage&&browser.storage.sync&&browser.storage.sync.get?browser.storage.sync.get(e,s):console.error("Couldn't read setting: "+e)},reloadTab:function(e,t){chrome&&chrome.tabs&&chrome.tabs.reload?chrome.tabs.reload(e,t):browser&&browser.tabs&&browser.tabs.reload?browser.tabs.reload(e,t):console.error("Couldn't reload tab.")},dictEquality:function(e,t){let r=!0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r=r&&e[n]===t[n]);for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r=r&&e[n]===t[n]);return r},tabQuery:function(){let e=arguments;return window.browser&&browser.tabs&&browser.tabs.query?browser.tabs.query.apply(this,arguments):new Promise((function(t){let r=Array.prototype.slice.call(e);r.push(t),chrome.tabs.query.apply(this,r)}))},tabSendmessage:function(){let e=arguments;return window.browser&&browser.tabs&&browser.tabs.sendMessage?browser.tabs.sendMessage.apply(this,arguments):new Promise((function(t,r){let n=Array.prototype.slice.call(e);n.push((function(e){void 0!==chrome.runtime.lastError&&r(chrome.runtime.lastError.message),t(e)})),chrome.tabs.sendMessage.apply(this,n)}))},addStorageChangeListener:function(e){chrome&&chrome.storage&&chrome.storage.onChanged&&chrome.storage.onChanged.addListener?chrome.storage.onChanged.addListener(e):browser&&browser.storage&&browser.storage.onChanged&&browser.storage.onChanged.addListener?browser.storage.onChanged.addListener(e):console.error("Couldn't add setting change listener")},openSettingsPage:function(){chrome&&chrome.tabs&&chrome.tabs.create?chrome.tabs.create({url:"/settings.html"}):browser&&browser.runtime&&browser.runtime.openOptionsPage?browser.runtime.openOptionsPage():console.error("Can't open settings page")},setMessageListener:function(e){chrome&&chrome.runtime&&chrome.runtime.onMessage&&chrome.runtime.onMessage.addListener?chrome.runtime.onMessage.addListener(e):browser&&browser.runtime&&browser.runtime.onMessage&&browser.runtime.onMessage.addListener?browser.runtime.onMessage.addListener(e):console.error("Couldn't add message listener")},getExtensionUrl:function(e){return chrome&&chrome.extension&&chrome.extension.getURL?chrome.extension.getURL(e):browser&&browser.runtime&&browser.runtime.getURL?browser.runtime.getURL(e):void console.error("Couldn't get extension URL")},camelize:function(e){return e.toLowerCase().replace(/[^a-zA-Z0-9]+(.)/g,((e,t)=>t.toUpperCase()))}};const t={ruffleEnable:!0,ignoreOptout:!1}}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}(()=>{const{getSyncStorage:e,setMessageListener:t,getExtensionUrl:n}=r(495);e(["ruffleEnable","ignoreOptout"],(function(e){let r=document.documentElement.hasAttribute("data-ruffle-optout");try{!r&&window.top&&window.top.document&&window.top.document.documentElement&&(r=window.top.document.documentElement.hasAttribute("data-ruffle-optout"))}catch(e){console.log("Unable to check top-level optout: "+e.message)}let s=!(r||window.RufflePlayer),o="rufEvent"+Math.floor(1e11*Math.random()),a=null,i=null;if(e?s=e.ruffleEnable&&!(r&&!e.ignoreOptout||window.RufflePlayer):console.log("Couldn't read settings."),document.addEventListener(o+"_response",(function(e){null!==i&&(i(e),a=null,i=null)})),t((function(t,n,l){return s?(async function(e){let t=new CustomEvent(o+"_request",{detail:JSON.stringify(e)}),r=(null==a&&(a=new Promise((function(e){i=e}))),a);document.dispatchEvent(t);let n=await r;return JSON.parse(n.detail)}(t).then((function(t){l({loaded:!0,tabSettings:e,optout:r,untrustedResponse:t})})).catch((function(e){throw console.error("Error when marshalling tab message into untrusted world: "+e),e})),!0):(l({loaded:!1,tabSettings:e,optout:r}),!1)})),s){let e=document.createElement("script");e.innerHTML='(function(){class RuffleMimeType{constructor(a,b,c){this.type=a,this.description=b,this.suffixes=c}}class RuffleMimeTypeArray{constructor(a){this.__mimetypes=[],this.__named_mimetypes={};for(let b of a)this.install(b)}install(a){let b=this.__mimetypes.length;this.__mimetypes.push(a),this.__named_mimetypes[a.type]=a,this[a.type]=a,this[b]=a}item(a){return this.__mimetypes[a]}namedItem(a){return this.__named_mimetypes[a]}get length(){return this.__mimetypes.length}}class RufflePlugin extends RuffleMimeTypeArray{constructor(a,b,c,d){super(d),this.name=a,this.description=b,this.filename=c}install(a){a.enabledPlugin||(a.enabledPlugin=this),super.install(a)}}class RufflePluginArray{constructor(a){this.__plugins=[],this.__named_plugins={};for(let b of a)this.install(b)}install(a){let b=this.__plugins.length;this.__plugins.push(a),this.__named_plugins[a.name]=a,this[a.name]=a,this[b]=a}item(a){return this.__plugins[a]}namedItem(a){return this.__named_plugins[a]}get length(){return this.__plugins.length}}const FLASH_PLUGIN=new RufflePlugin("Shockwave Flash","Shockwave Flash 32.0 r0","ruffle.js",[new RuffleMimeType("application/futuresplash","Shockwave Flash","spl"),new RuffleMimeType("application/x-shockwave-flash","Shockwave Flash","swf"),new RuffleMimeType("application/x-shockwave-flash2-preview","Shockwave Flash","swf"),new RuffleMimeType("application/vnd.adobe.flash-movie","Shockwave Flash","swf")]);function install_plugin(a){navigator.plugins.install||Object.defineProperty(navigator,"plugins",{value:new RufflePluginArray(navigator.plugins),writable:!1}),navigator.plugins.install(a),0<a.length&&!navigator.mimeTypes.install&&Object.defineProperty(navigator,"mimeTypes",{value:new RuffleMimeTypeArray(navigator.mimeTypes),writable:!1});for(var b=0;b<a.length;b+=1)navigator.mimeTypes.install(a[b])}install_plugin(FLASH_PLUGIN);})();',(document.head||document.documentElement).appendChild(e),async function(){const e=document.createElement("script");e.src=n(`dist/ruffle.js?obfuscatedEventPrefix=${o}`),(document.head||document.documentElement).appendChild(e)}()}}))})()})();